(function(e){function t(t){for(var n,o,l=t[0],s=t[1],d=t[2],u=0,p=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={index:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0ac8":function(e,t,a){"use strict";a("d862")},"21b1":function(e,t,a){"use strict";a("66b0")},"2b52":function(e,t,a){"use strict";a("4f9a")},"4f9a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),r=a("7496"),i=function(){var e=this,t=e._self._c;return t(r["a"],{staticStyle:{"background-color":"#151532"}},[t("PlayerManager")],1)},o=[],l=a("b0af"),s=a("99d9"),d=a("ce7e"),c=a("132d"),u=a("2db4"),p=function(){var e=this,t=e._self._c;return t(l["a"],{staticClass:"mx-auto my-12",staticStyle:{"background-color":"#0b0b1e","border-radius":"10px"},attrs:{width:"500",dark:""}},[t(u["a"],{attrs:{top:"",text:"",timeout:"1000",outlined:"",color:e.alert_color},model:{value:e.show_alert,callback:function(t){e.show_alert=t},expression:"show_alert"}},[t(c["a"],{attrs:{color:e.alert_color,left:""}},[e._v(e._s(e.alert_icon))]),e._v(" "+e._s(e.alert_text)+" ")],1),t(s["b"],[t("span",{staticStyle:{color:"#13f094","margin-right":"4px"}},[e._v("Player")]),e._v(" Manager")]),t(s["a"],[e._v(" Add, update or delete players ")]),t(d["a"],{staticClass:"mx-4"}),t(s["a"],[t("PlayerAdder",{on:{add_player:e.add_player}}),t("span",{staticStyle:{"text-align":"center",width:"100%",display:"block","margin-bottom":"12px"}},[e._v("Players ("+e._s(e.players.length)+")")]),e._l(e.players,(function(a){return t("Player",{key:a.id,attrs:{player_info:a},on:{update_player:e.update_player,delete_player:e.delete_player}})}))],2)],1)},_=[],h=a("0789"),y=a("4bd4"),f=a("adda"),m=a("8654"),v=function(){var e=this,t=e._self._c;return t("div",[t(m["a"],{staticClass:"gloot_blue",class:!0===e.text_field_has_focus?"border-grow":!1===e.text_field_has_focus?"border-shrink":"",staticStyle:{"z-index":"2",position:"relative"},attrs:{label:"",placeholder:"+ New player name...",solo:""},on:{blur:function(t){e.text_field_has_focus=!1},focus:function(t){e.text_field_has_focus=!0},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add_player.apply(null,arguments)}},scopedSlots:e._u([{key:"append",fn:function(){return[t(y["a"],{on:{submit:e.add_player}},[t(h["a"],[t(f["a"],{directives:[{name:"show",rawName:"v-show",value:e.text_field_has_focus,expression:"text_field_has_focus"}],class:e.enter_is_down?"enter-down":"enter-up",staticStyle:{height:"64px",width:"64px",cursor:"pointer"},style:{opacity:e.invalid_player_name?"0.3":"1.0"},attrs:{src:a("d62c")},on:{click:e.add_player}})],1)],1)]},proxy:!0}]),model:{value:e.new_player_name,callback:function(t){e.new_player_name=t},expression:"new_player_name"}}),t(h["a"],[t("div",{directives:[{name:"show",rawName:"v-show",value:e.text_field_has_focus,expression:"text_field_has_focus"}],staticClass:"dimmer"})])],1)},w=[],b={name:"PlayerAdder",data(){return{enter_is_down:!1,new_player_name:"",text_field_has_focus:null}},methods:{add_player:function(){if(this.invalid_player_name)return;this.enter_is_down=!0;let e=this;setTimeout((function(){e.enter_is_down=!1}),100),this.$emit("add_player",this.new_player_name),this.new_player_name=""}},computed:{invalid_player_name:function(){return""===this.new_player_name}}},x=b,g=(a("2b52"),a("2877")),k=Object(g["a"])(x,v,w,!1,null,"56c576e0",null),P=k.exports,j=a("8336"),O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"px-4 py-2",class:`${e.animation_class} ${e.hovered?"is_hovered":""}`,staticStyle:{"border-radius":"4px","margin-bottom":"8px","background-color":"#151532",position:"relative"},on:{mouseenter:function(t){e.hovered=!0},mouseleave:function(t){e.hovered=!1}}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.edit_mode,expression:"!edit_mode"}],staticClass:"name_span",staticStyle:{cursor:"pointer"},on:{click:e.edit_name}},[e._v(e._s(e.player_info.name))]),t("input",{directives:[{name:"show",rawName:"v-show",value:e.edit_mode,expression:"edit_mode"},{name:"model",rawName:"v-model",value:e.new_player_name,expression:"new_player_name"}],ref:"edit_name_field",staticStyle:{outline:"none !important",color:"white"},domProps:{value:e.new_player_name},on:{blur:function(t){e.edit_mode=!1},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.update_name.apply(null,arguments)},input:function(t){t.target.composing||(e.new_player_name=t.target.value)}}}),t(h["a"],[t(j["a"],{directives:[{name:"show",rawName:"v-show",value:e.hovered&&"removed"!==e.animation_class,expression:"hovered && animation_class!=='removed'"}],staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{icon:""},on:{click:e.delete_player}},[t(c["a"],[e._v("mdi-close")])],1)],1)],1)},S=[],C={name:"Player",data(){return{animation_class:"",hovered:!1,edit_mode:!1,new_player_name:"",autosave_timeout:null}},props:["player_info"],mounted(){this.player_info.just_added&&(this.animation_class="added"),this.new_player_name=this.player_info.name},methods:{delete_player:function(){this.$emit("delete_player",this.player_info),this.animation_class="removed"},update_name:function(){clearTimeout(this.autosave_timeout),this.$emit("update_player",{new_player_name:this.new_player_name,player_info:this.player_info}),this.edit_mode=!1},focus_input:function(){this.$refs.edit_name_field.focus()},edit_name:function(){this.edit_mode=!0,this.$nextTick(()=>{this.focus_input()})}},watch:{edit_mode:function(){this.edit_mode||this.new_player_name===this.player_info.name||this.update_name()},new_player_name:function(){clearTimeout(this.autosave_timeout),this.new_player_name!==this.player_info.name&&(this.autosave_timeout=setTimeout(this.update_name,2e3))}}},T=C,N=(a("0ac8"),Object(g["a"])(T,O,S,!1,null,"b433744a",null)),M=N.exports,$={name:"PlayerManager",components:{PlayerAdder:P,Player:M},mounted(){this.get_players()},data(){return{show_alert:!1,alert_text:"",alert_icon:"",alert_color:"",players:[]}},methods:{alert_user(e,t,a){this.alert_icon=e,this.alert_text=t,this.alert_color=a,this.show_alert=!0},delete_player:function(e){fetch("http://localhost:3000/player/"+e.id,{method:"DELETE"}).then(e=>e.json()).then(()=>{let t=this;setTimeout((function(){t.players=t.players.filter(t=>t.id!==e.id)}),500),this.alert_user("mdi-delete",e.name+" deleted","#13f094")}).catch(()=>{this.alert_user("mdi-alert-circle","Could not delete player. Please try again later.","#f0de13"),this.get_players()})},update_player:function({new_player_name:e,player_info:t}){this.players=this.players.map(a=>a.id===t.id?{...a,name:e}:a),fetch("http://localhost:3000/player/"+t.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})}).then(e=>e.json()).then(()=>{this.alert_user("mdi-content-save","Player updated.","#13f094")}).catch(()=>{this.alert_user("mdi-alert-circle","Could not update player. Please try again later.","#f0de13"),this.players=this.players.map(e=>e.id===t.id?{...e,name:t.name}:e)})},get_players:function(){fetch("http://localhost:3000/players").then(e=>e.json()).then(e=>{this.players=e.reverse()}).catch(()=>{this.alert_user("mdi-alert-circle","Could not retrieve players. Please try again later.","#f0de13")})},add_player:function(e){fetch("http://localhost:3000/player",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({name:e})}).then(e=>e.json()).then(t=>{t.just_added=!0,this.players.unshift(t),this.alert_user("mdi-check-circle",e+" added.","#13f094")}).catch(()=>{this.alert_user("mdi-alert-circle","Could not add player. Please try again later.","#f0de13")})}}},A=$,E=Object(g["a"])(A,p,_,!1,null,"60198c52",null),J=E.exports,z={name:"App",components:{PlayerManager:J},data:()=>({})},D=z,L=(a("21b1"),Object(g["a"])(D,i,o,!1,null,null,null)),U=L.exports,q=a("f309");n["a"].use(q["a"]);var B=new q["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:B,render:e=>e(U)}).$mount("#app")},"66b0":function(e,t,a){},d62c:function(e,t,a){e.exports=a.p+"img/keyboard_key_enter.5ff124bb.png"},d862:function(e,t,a){}});
//# sourceMappingURL=index.9fccb2b5.js.map